---
title: Clients
sidebar_position: 2
---

# MCP Clients

MCP Compose can be used with any MCP-compatible client. This guide covers configuration for the two most popular clients: **Claude Desktop** and **VS Code**.

Both clients support two transport methods:
- **STDIO**: MCP Compose runs as a subprocess, communicating via stdin/stdout
- **Streamable HTTP**: MCP Compose runs as an HTTP server, communicating via HTTP streaming

## Claude Desktop

Claude Desktop is Anthropic's native application that supports MCP servers through its configuration file.

### Configuration File Location

| Platform | Path |
|----------|------|
| macOS | `~/Library/Application Support/Claude/claude_desktop_config.json` |
| Windows | `%APPDATA%\Claude\claude_desktop_config.json` |
| Linux | `~/.config/Claude/claude_desktop_config.json` |

### STDIO Transport

With STDIO, Claude Desktop launches MCP Compose as a subprocess:

```json
{
  "mcpServers": {
    "mcp-compose": {
      "command": "mcp-compose",
      "args": ["serve", "--config", "/path/to/mcp_compose.toml"],
      "env": {
        "LOG_LEVEL": "INFO"
      }
    }
  }
}
```

If using `uvx` (recommended for isolated environments):

```json
{
  "mcpServers": {
    "mcp-compose": {
      "command": "uvx",
      "args": ["mcp-compose", "serve", "--config", "/path/to/mcp_compose.toml"]
    }
  }
}
```

If using a Python virtual environment:

```json
{
  "mcpServers": {
    "mcp-compose": {
      "command": "/path/to/venv/bin/python",
      "args": ["-m", "mcp_compose", "serve", "--config", "/path/to/mcp_compose.toml"]
    }
  }
}
```

### Streamable HTTP Transport

With Streamable HTTP, MCP Compose runs as a standalone server that Claude Desktop connects to:

**Step 1**: Start MCP Compose server in a terminal:

```bash
mcp-compose serve --config /path/to/mcp_compose.toml --transport streamable-http --port 8080
```

**Step 2**: Configure Claude Desktop to connect:

```json
{
  "mcpServers": {
    "mcp-compose": {
      "url": "http://localhost:8080/mcp"
    }
  }
}
```

For authenticated endpoints:

```json
{
  "mcpServers": {
    "mcp-compose": {
      "url": "http://localhost:8080/mcp",
      "headers": {
        "Authorization": "Bearer YOUR_TOKEN"
      }
    }
  }
}
```

:::tip
Streamable HTTP is recommended for production deployments where MCP Compose manages multiple downstream servers or requires persistent connections.
:::

---

## VS Code

VS Code supports MCP servers through the GitHub Copilot extension (with MCP support) or dedicated MCP extensions.

### Configuration File Location

VS Code MCP configuration is stored in your user settings or workspace settings:

| Scope | Path |
|-------|------|
| User Settings | `~/.vscode/settings.json` or via Command Palette |
| Workspace | `.vscode/settings.json` in your project |

You can also use the dedicated MCP configuration file:

| Platform | Path |
|----------|------|
| macOS | `~/Library/Application Support/Code/User/mcp.json` |
| Windows | `%APPDATA%\Code\User\mcp.json` |
| Linux | `~/.config/Code/User/mcp.json` |

### STDIO Transport

Configure MCP Compose as a subprocess in your VS Code settings:

```json
{
  "mcp": {
    "servers": {
      "mcp-compose": {
        "command": "mcp-compose",
        "args": ["serve", "--config", "/path/to/mcp_compose.toml"],
        "env": {
          "LOG_LEVEL": "INFO"
        }
      }
    }
  }
}
```

Using `uvx`:

```json
{
  "mcp": {
    "servers": {
      "mcp-compose": {
        "command": "uvx",
        "args": ["mcp-compose", "serve", "--config", "/path/to/mcp_compose.toml"]
      }
    }
  }
}
```

Using a Python virtual environment:

```json
{
  "mcp": {
    "servers": {
      "mcp-compose": {
        "command": "/path/to/venv/bin/python",
        "args": ["-m", "mcp_compose", "serve", "--config", "/path/to/mcp_compose.toml"]
      }
    }
  }
}
```

### Streamable HTTP Transport

**Step 1**: Start MCP Compose server:

```bash
mcp-compose serve --config /path/to/mcp_compose.toml --transport streamable-http --port 8080
```

**Step 2**: Configure VS Code to connect:

```json
{
  "mcp": {
    "servers": {
      "mcp-compose": {
        "url": "http://localhost:8080/mcp"
      }
    }
  }
}
```

With authentication:

```json
{
  "mcp": {
    "servers": {
      "mcp-compose": {
        "url": "http://localhost:8080/mcp",
        "headers": {
          "Authorization": "Bearer YOUR_TOKEN"
        }
      }
    }
  }
}
```

---

## Transport Comparison

| Feature | STDIO | Streamable HTTP |
|---------|-------|-----------------|
| Setup complexity | Simple | Requires running server |
| Process management | Client manages | User manages |
| Multiple clients | One per process | Many clients supported |
| Network access | Local only | Local or remote |
| Authentication | Via env vars | HTTP headers / OAuth |
| Recommended for | Development | Production |

## Troubleshooting

### Common Issues

**STDIO: "Command not found"**
- Ensure `mcp-compose` is installed and in your PATH
- Use absolute paths for the command and config file
- Try using `uvx` or the full Python path

**Streamable HTTP: "Connection refused"**
- Verify the server is running: `curl http://localhost:8080/health`
- Check the port is not blocked by a firewall
- Ensure the URL includes the correct path (`/mcp`)

**Tools not appearing**
- Check MCP Compose logs for errors during tool discovery
- Verify your `mcp_compose.toml` configuration
- Restart the client after configuration changes

### Viewing Logs

For STDIO transport, logs appear in the client's output panel or developer console.

For Streamable HTTP, run with verbose logging:

```bash
mcp-compose serve --config /path/to/mcp_compose.toml --transport streamable-http --log-level DEBUG
```