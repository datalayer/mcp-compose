# MCP Compose Configuration
# Calculator and Echo MCP Servers Example - STDIO Transport with UI

[composer]
name = "demo-composer"
conflict_resolution = "prefix"  # Prefix tool names with server name
log_level = "INFO"

# ============================================================================
# Transport Configuration - STDIO mode for subprocess communication
# ============================================================================
[transport]
stdio_enabled = true
streamable_http_enabled = true
sse_enabled = false

# ============================================================================
# Authentication Configuration
# ============================================================================
[authentication]
enabled = true
providers = ["basic"]
default_provider = "basic"

[authentication.basic]
username = "admin"
password = "demo123"

# ============================================================================
# UI Configuration
# ============================================================================
[ui]
enabled = true
framework = "react"
mode = "embedded"
path = "/ui"
port = 9456

# ============================================================================
# Calculator MCP Server (Proxied via STDIO)
# ============================================================================
[[servers.proxied.stdio]]
name = "calculator"
command = ["python", "mcp1.py"]
restart_policy = "never"
# Calculator tools: add, subtract, multiply, divide

# ============================================================================
# Echo MCP Server (Proxied via STDIO)
# ============================================================================
[[servers.proxied.stdio]]
name = "echo"
command = ["python", "mcp2.py"]
restart_policy = "never"
# Echo tools: ping, echo, reverse, uppercase, lowercase, count_words
