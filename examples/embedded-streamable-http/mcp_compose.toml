# MCP Compose Configuration
# Calculator and Echo MCP Servers Example - Embedded Servers with Streamable HTTP Transport

[composer]
name = "demo-composer"
conflict_resolution = "prefix"  # Prefix tool names with server name
log_level = "INFO"
port = 8080

# ============================================================================
# Transport Configuration - Streamable HTTP mode (recommended)
# ============================================================================
[transport]
stdio_enabled = false
streamable_http_enabled = true
streamable_http_path = "/mcp"
streamable_http_cors_enabled = true
sse_enabled = false

# ============================================================================
# Embedded MCP Servers
# ============================================================================
# These servers are imported as Python modules and run in the same process
# as the composer. This is more efficient than STDIO proxying for local servers.

[[servers.embedded.servers]]
name = "calculator"
package = "calculator_server"
enabled = true
# Calculator tools: add, subtract, multiply, divide

[[servers.embedded.servers]]
name = "echo"
package = "echo_server"
enabled = true
# Echo tools: ping, echo, reverse, uppercase, lowercase, count_words
